<section id="contact">
  <div class="contact-container">
    <!-- Left image -->
    <div class="illustration">
      <img src="assets/chai.png" alt="Contact Illustration" />
    </div>

    <!-- Right form -->
    <div class="form-section">
      <h2>
        <span class="step"></span>
        Letâ€™s make something amazing <span class="highlight">Together</span>
      </h2>

      <form #form="ngForm" (ngSubmit)="submit(form)">
        <!-- Row 1 -->
        <div class="row">
          <!-- Name -->
          <div class="form-group">
            <label>Name *</label>
            <input
              type="text"
              [(ngModel)]="formData.name"
              name="name"
              required
              minlength="2"
              pattern="^[A-Za-z ]+$"
              #name="ngModel"
              (input)="onNameInput()"
              [class.invalid]="name.invalid && name.touched"
              placeholder="Enter your name"
            />
            <div class="error" *ngIf="name.errors && name.touched">
              <span *ngIf="name.errors['required']">Name is required</span>
              <span *ngIf="name.errors['minlength']">Min 2 characters</span>
              <span *ngIf="name.errors['pattern']">Only letters allowed</span>
            </div>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label>Email *</label>
            <input
              type="email"
              [(ngModel)]="formData.email"
              name="email"
              required
              #email="ngModel"
              [class.invalid]="email.invalid && email.touched"
              placeholder="Enter your email"
            />
            <div class="error" *ngIf="email.invalid && email.touched">
              Valid email required
            </div>
          </div>
        </div>

        <!-- Row 2 -->
        <div class="row">
          <!-- Project Name -->
          <div class="form-group">
            <label>Project Name *</label>
            <input
              type="text"
              [(ngModel)]="formData.projectName"
              name="projectName"
              required
              #projectName="ngModel"
              [class.invalid]="projectName.invalid && projectName.touched"
              placeholder="Enter project name"
            />
            <div
              class="error"
              *ngIf="projectName.invalid && projectName.touched"
            >
              Project name is required
            </div>
          </div>

          <!-- Project Tech -->
          <div class="form-group">
            <label>Project Tech *</label>
            <input
              type="text"
              [(ngModel)]="formData.projectTech"
              name="projectTech"
              required
              #projectTech="ngModel"
              [class.invalid]="projectTech.invalid && projectTech.touched"
              placeholder="Tech stack (e.g. Angular, Node)"
            />
            <div
              class="error"
              *ngIf="projectTech.invalid && projectTech.touched"
            >
              Project tech is required
            </div>
          </div>
        </div>

        <!-- Row 3 -->
        <div class="row">
          <!-- Project Type -->
          <div class="form-group">
            <label>Project Type *</label>
            <select
              [(ngModel)]="formData.projectType"
              name="projectType"
              required
              #projectType="ngModel"
              [class.invalid]="projectType.invalid && projectType.touched"
            >
              <option value="" disabled selected>Select type</option>
              <option value="web">Web Application</option>
              <option value="mobile">Mobile App</option>
              <option value="desktop">Desktop Software</option>
              <option value="other">Other</option>
            </select>
            <div
              class="error"
              *ngIf="projectType.invalid && projectType.touched"
            >
              Select project type
            </div>
          </div>

          <!-- Platform -->
          <div class="form-group">
            <label>Platform *</label>
            <select
              [(ngModel)]="formData.platform"
              name="platform"
              required
              #platform="ngModel"
              [class.invalid]="platform.invalid && platform.touched"
            >
              <option value="" disabled selected>Select platform</option>
              <option value="android">Android</option>
              <option value="ios">iOS</option>
              <option value="web">Web</option>
              <option value="cross">Cross Platform</option>
            </select>
            <div class="error" *ngIf="platform.invalid && platform.touched">
              Select platform
            </div>
          </div>
        </div>

        <!-- Description -->
        <div class="form-group full-width">
          <label>Description</label>
          <textarea
            [(ngModel)]="formData.description"
            name="description"
            placeholder="Tell us more about your project..."
          ></textarea>
        </div>

        <!-- Buttons -->
        <div class="buttons">
          <button type="submit" [disabled]="form.invalid">
            Send your message
          </button>
          <button type="reset">Reset</button>
        </div>
      </form>
    </div>
  </div>
</section>

<!-- Modal -->
<div (click)="closeModal()" *ngIf="showModal" class="modal show">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <span class="close" (click)="closeModal()">&times;</span>
    <h2>Success!</h2>
    <p>Your form has been submitted successfully.</p>
  </div>
</div>
